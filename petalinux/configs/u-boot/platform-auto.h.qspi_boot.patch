--- platform-auto.h	2016-03-11 17:52:04.231740000 -0700
+++ platform-auto.h	2016-03-11 17:48:48.491535247 -0700
@@ -183,10 +183,14 @@
 	"netstart=0x10000000\0" \
 	"dtbnetstart=0x11800000\0" \
 	"loadaddr=0x10000000\0" \
+	"bootsize=0x500000\0" \
+	"bootstart=0x0\0" \
 	"boot_img=BOOT.BIN\0" \
 	"load_boot=tftpboot ${clobstart} ${boot_img}\0" \
-	"update_boot=setenv img boot; setenv psize ${bootsize}; setenv installcmd \"install_boot\"; run load_boot ${installcmd}; setenv img; setenv psize; setenv installcmd\0" \
-	"install_boot=mmcinfo && fatwrite mmc 0 ${clobstart} ${boot_img} ${filesize}\0" \
+	"update_boot=setenv img boot; setenv psize ${bootsize}; setenv installcmd \"install_boot\"; run load_boot test_img; setenv img; setenv psize; setenv installcmd\0" \
+	"sd_update_boot=echo Updating boot from SD; mmcinfo && fatload mmc 0:1 ${clobstart} ${boot_img} && run install_boot\0" \
+	"install_boot=sf probe 0 && sf erase ${bootstart} ${bootsize} && " \
+		"sf write ${clobstart} ${bootstart} ${filesize}\0" \
 	"bootenvsize=0x20000\0" \
 	"bootenvstart=0x620000\0" \
 	"eraseenv=sf probe 0 && sf erase ${bootenvstart} ${bootenvsize}\0" \
@@ -196,11 +200,15 @@
 	"sd_update_jffs2=echo Updating jffs2 from SD; mmcinfo && fatload mmc 0:1 ${clobstart} ${jffs2_img} && run install_jffs2\0" \
 	"install_jffs2=sf probe 0 && sf erase ${jffs2start} ${jffs2size} && " \
 		"sf write ${clobstart} ${jffs2start} ${filesize}\0" \
+	"kernelsize=0x960000\0" \
+	"kernelstart=0x640000\0" \
 	"kernel_img=image.ub\0" \
 	"load_kernel=tftpboot ${clobstart} ${kernel_img}\0" \
-	"update_kernel=setenv img kernel; setenv psize ${kernelsize}; setenv installcmd \"install_kernel\"; run load_kernel ${installcmd}; setenv img; setenv psize; setenv installcmd\0" \
-	"install_kernel=mmcinfo && fatwrite mmc 0 ${clobstart} ${kernel_img} ${filesize}\0" \
-	"cp_kernel2ram=mmcinfo && fatload mmc 0 ${netstart} ${kernel_img}\0" \
+	"update_kernel=setenv img kernel; setenv psize ${kernelsize}; setenv installcmd \"install_kernel\"; run load_kernel test_crc; setenv img; setenv psize; setenv installcmd\0" \
+	"sd_update_kernel=echo Updating kernel from SD; mmcinfo && fatload mmc 0:1 ${clobstart} ${kernel_img} && run install_kernel\0" \
+	"install_kernel=sf probe 0 && sf erase ${kernelstart} ${kernelsize} && " \
+		"sf write ${clobstart} ${kernelstart} ${filesize}\0" \
+	"cp_kernel2ram=sf probe 0 && sf read ${netstart} ${kernelstart} ${kernelsize}\0" \
 	"dtb_img=system.dtb\0" \
 	"load_dtb=tftpboot ${clobstart} ${dtb_img}\0" \
 	"update_dtb=setenv img dtb; setenv psize ${dtbsize}; setenv installcmd \"install_dtb\"; run load_dtb test_img; setenv img; setenv psize; setenv installcmd\0" \
