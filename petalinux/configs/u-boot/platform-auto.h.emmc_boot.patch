--- platform-auto.h.orig	2016-03-15 09:01:14.613035427 -0700
+++ platform-auto.h	2016-03-15 12:02:02.429047337 -0700
@@ -96,12 +96,12 @@
 #define CONFIG_SPI_FLASH_BAR
 #define CONFIG_ENV_IS_IN_SPI_FLASH
 #define CONFIG_CMD_SAVEENV
-#define CONFIG_ENV_OFFSET	0x500000
+#define CONFIG_ENV_OFFSET	0x620000
 #define CONFIG_ENV_SIZE	0x20000
 #define CONFIG_ENV_SECT_SIZE	0x20000
 
-/* sdio - ps7_sd_0 */
-#define CONFIG_ZYNQ_SDHCI0	0xE0100000
+/* sdio - ps7_sd_1 */
+#define CONFIG_ZYNQ_SDHCI1	0xE0101000
 #define CONFIG_MMC
 #define CONFIG_GENERIC_MMC
 #define CONFIG_SDHCI
@@ -199,12 +199,16 @@
 	"netstart=0x01000000\0" \
 	"dtbnetstart=0x02800000\0" \
 	"loadaddr=0x01000000\0" \
+	"bootsize=0x620000\0" \
+	"bootstart=0x0\0" \
 	"boot_img=BOOT.BIN\0" \
 	"load_boot=tftp ${clobstart} ${boot_img}\0" \
-	"update_boot=setenv img boot; setenv psize ${bootsize}; setenv installcmd \"install_boot\"; run load_boot ${installcmd}; setenv img; setenv psize; setenv installcmd\0" \
-	"install_boot=mmcinfo && fatwrite mmc 0 ${clobstart} ${boot_img} ${filesize}\0" \
+	"update_boot=setenv img boot; setenv psize ${bootsize}; setenv installcmd \"install_boot\"; run load_boot test_img; setenv img; setenv psize; setenv installcmd\0" \
+	"sd_update_boot=echo Updating boot from SD; mmcinfo && fatload mmc 0:1 ${clobstart} ${boot_img} && run install_boot\0" \
+	"install_boot=sf probe 0 && sf erase ${bootstart} ${bootsize} && " \
+		"sf write ${clobstart} ${bootstart} ${filesize}\0" \
 	"bootenvsize=0x20000\0" \
-	"bootenvstart=0x500000\0" \
+	"bootenvstart=0x620000\0" \
 	"eraseenv=sf probe 0 && sf erase ${bootenvstart} ${bootenvsize}\0" \
 	"jffs2_img=rootfs.jffs2\0" \
 	"load_jffs2=tftp ${clobstart} ${jffs2_img}\0" \
